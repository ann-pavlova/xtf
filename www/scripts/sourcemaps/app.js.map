{"version":3,"sources":["app.js"],"names":["albums","albumsTemplate","popupTemplate","popupContentTemplate","$","$homeSlider","length","slick","dots","arrow","infinite","speed","fade","cssEase","autoplay","autoplaySpeed","pauseOnHover","$burger","on","toggleClass","this","parents","find","window","innerWidth","$tabLink","e","currentTabJsonLink","target","data","removeClass","addClass","ajax","url","dataType","type","success","JSON","parse","get","template","Handlebars","compile","html","event","preventDefault","currentAlbumName","currentTarget","gallery","attr","currentAlbum","i","name","magnificPopup","delegate","image","titleSrc","callbacks","close","enabled","swipe","swipeLeft","swipeRight","threshold","detectHorMobile","innerHeight","document","ready","resize"],"mappings":"AAAA,YAEA,IAAIA,YAAS,GACTC,mBAAiB,GACjBC,kBAAgB,GAChBC,yBAAuB,EAE3BC,GAAE,YAEE,SAAWC,GACFA,EAAYC,QAIjBF,EAAEC,GAAaE,OACXC,MAAM,EACNC,OAAO,EACPC,UAAU,EACVC,MAAO,IACPC,MAAM,EACNC,QAAS,SACTC,UAAU,EACVC,cAAe,IACfC,cAAc,KAEnBZ,EAAE,mBAGL,SAAWa,GACFA,EAAQX,QAIbW,EAAQC,GAAG,QAAS,WAChBd,EAAE,+BAA+Be,YAAY,WAC7Cf,EAAEgB,MAAMC,UAAUC,KAAK,sBAAsBH,YAAY,WACrDI,OAAOC,WAAa,MACpBpB,EAAE,QAAQe,YAAY,WAE1Bf,EAAE,wBAAwBe,YAAY,gBAE3Cf,EAAE,cAGL,SAAWqB,GACFA,EAASnB,QAIdmB,EAASP,GAAG,QAAS,SAAUQ,GAC3B,GAAIC,GAAqBvB,EAAEsB,EAAEE,QAAQC,KAAK,OAC1CzB,GAAE,2BAA2B0B,YAAY,aACzC1B,EAAEsB,EAAEE,QAAQG,SAAS,aAErB3B,EAAE4B,MACEC,IAAKN,EACLO,SAAU,OACVC,KAAM,MACNC,QAAS,SAAiBP,GACtB7B,OAASqC,KAAKC,MAAMT,EAGpBzB,GAAEmC,IAAIN,0BAA4B,SAAUO,GACxCvC,eAAiBwC,WAAWC,QAAQF,GACpCpC,EAAE,oBAAoBuC,KAAK1C,eAAeD,UAC3C,cAIhBI,EAAE,iBAGLA,EAAE,QAAQc,GAAG,QAAS,WAAY,SAAU0B,GACxCA,EAAMC,gBAMN,KAAK,GAJDC,GAAmB1C,EAAEwC,EAAMG,eAAelB,KAAK,QAC/CmB,EAAU5C,EAAEwC,EAAMG,eAAeE,KAAK,QACtCC,MAAe,GAEVC,EAAI,EAAGA,EAAInD,OAAOM,OAAQ6C,IAC3BnD,OAAOmD,GAAGC,OAASN,IACnBI,EAAelD,OAAOmD,GAI9B/C,GAAE,YAAYuC,KAAKzC,cAAcgD,IAEjC9C,EAAE,QAAQ2B,SAAS,WAEnB3B,EAAE4C,GAASK,eACPC,SAAU,IACVnB,KAAM,QACNoB,OACIC,SAAU,WACN,MAAOrD,sBAAqB+C,KAGpCO,WACIC,MAAO,WACHtD,EAAE,QAAQ0B,YAAY,aAG9BkB,SACIW,SAAS,KAEdN,cAAc,QAEjBjD,EAAE,QAAQwD,OACNC,UAAW,WACPzD,EAAE,mBAAmBiD,cAAc,SAEvCS,WAAY,WACR1D,EAAE,oBAAoBiD,cAAc,SAExCU,UAAW,MAKnB,IAAIC,GAAkB,WAClB,GAAIzC,OAAOC,WAAa,KAAOD,OAAO0C,YAAc,IAAK,CACrD,IAAK7D,EAAE,2BAA2BE,OAC9B,MAEAF,GAAE,2BAA2B2B,SAAS,qBAG1C3B,GAAE,2BAA2B0B,YAAY,iBAIjD1B,GAAE8D,UAAUC,MAAM,WACdH,MAGJ5D,EAAEmB,QAAQ6C,OAAO,WACbJ,MAIJ5D,EAAE8D,UAAUC,MAAM,WACd,GAAK/D,EAAE,2BAA2BE,OAAlC,CAIA,GAAIqB,GAAqBvB,EAAE,2BAA2ByB,KAAK,OAE3DzB,GAAE4B,MACEC,IAAKN,EACLO,SAAU,OACVC,KAAM,MACNC,QAAS,SAAiBP,GACtB7B,OAASqC,KAAKC,MAAMT,EAGpBzB,GAAEmC,IAAIN,0BAA4B,SAAUO,GACxCvC,eAAiBwC,WAAWC,QAAQF,GACpCpC,EAAE,oBAAoBuC,KAAK1C,eAAeD,UAC3C,QAEHI,EAAEmC,IAAIN,kCAAoC,SAAUO,GAChDtC,cAAgBuC,WAAWC,QAAQF,IACpC,QAEHpC,EAAEmC,IAAIN,yCAA2C,SAAUO,GACvDrC,qBAAuBsC,WAAWC,QAAQF,IAC3C","file":"../app.js","sourcesContent":["'use strict';\n\nvar albums = void 0;\nvar albumsTemplate = void 0;\nvar popupTemplate = void 0;\nvar popupContentTemplate = void 0;\n\n$(function () {\n    //init gallery\n    (function ($homeSlider) {\n        if (!$homeSlider.length) {\n            return;\n        }\n\n        $($homeSlider).slick({\n            dots: false,\n            arrow: false,\n            infinite: true,\n            speed: 500,\n            fade: true,\n            cssEase: 'linear',\n            autoplay: true,\n            autoplaySpeed: 5000,\n            pauseOnHover: false\n        });\n    })($('.j-home-slider'));\n\n    //menu mobile\n    (function ($burger) {\n        if (!$burger.length) {\n            return;\n        }\n\n        $burger.on('click', function () {\n            $('.b-header__mobile-menu-wrap').toggleClass('is-open');\n            $(this).parents().find('.b-header_type_mob').toggleClass('is-open');\n            if (window.innerWidth < 1280) {\n                $('body').toggleClass('is-open');\n            }\n            $('.b-header__hamburger').toggleClass('is-active');\n        });\n    })($('.j-burger'));\n\n    //tabs(projects page)\n    (function ($tabLink) {\n        if (!$tabLink.length) {\n            return;\n        }\n\n        $tabLink.on('click', function (e) {\n            var currentTabJsonLink = $(e.target).data('json');\n            $('.b-tabs__link.is-active').removeClass('is-active');\n            $(e.target).addClass('is-active');\n\n            $.ajax({\n                url: currentTabJsonLink,\n                dataType: 'html',\n                type: 'get',\n                success: function success(data) {\n                    albums = JSON.parse(data);\n                    var url = '/xtf/';\n\n                    $.get(url + 'www/hbs/albums.hbs', function (template) {\n                        albumsTemplate = Handlebars.compile(template);\n                        $('.b-tabs__content').html(albumsTemplate(albums));\n                    }, 'html');\n                }\n            });\n        });\n    })($('.j-tabs-link'));\n\n    //init popup\n    $('body').on('click', '.j-popup', function (event) {\n        event.preventDefault();\n\n        var currentAlbumName = $(event.currentTarget).data('name');\n        var gallery = $(event.currentTarget).attr('href');\n        var currentAlbum = void 0;\n\n        for (var i = 0; i < albums.length; i++) {\n            if (albums[i].name === currentAlbumName) {\n                currentAlbum = albums[i];\n            }\n        }\n\n        $('.b-popup').html(popupTemplate(currentAlbum));\n\n        $('body').addClass('is-open');\n\n        $(gallery).magnificPopup({\n            delegate: 'a',\n            type: 'image',\n            image: {\n                titleSrc: function titleSrc() {\n                    return popupContentTemplate(currentAlbum);\n                }\n            },\n            callbacks: {\n                close: function close() {\n                    $('body').removeClass('is-open');\n                }\n            },\n            gallery: {\n                enabled: true\n            }\n        }).magnificPopup('open');\n\n        $(\"body\").swipe({\n            swipeLeft: function swipeLeft() {\n                $('.mfp-arrow-left').magnificPopup(\"prev\");\n            },\n            swipeRight: function swipeRight() {\n                $('.mfp-arrow-right').magnificPopup(\"next\");\n            },\n            threshold: 50\n        });\n    });\n\n    //detect horizontal mobile\n    var detectHorMobile = function detectHorMobile() {\n        if (window.innerWidth < 959 && window.innerHeight < 400) {\n            if (!$('.b-home__slider-content').length) {\n                return;\n            } else {\n                $('.b-home__slider-content').addClass('is-hor-mobile');\n            }\n        } else {\n            $('.b-home__slider-content').removeClass('is-hor-mobile');\n        }\n    };\n\n    $(document).ready(function () {\n        detectHorMobile();\n    });\n\n    $(window).resize(function () {\n        detectHorMobile();\n    });\n\n    //get data with projects\n    $(document).ready(function () {\n        if (!$('.b-tabs__link.is-active').length) {\n            return;\n        }\n\n        var currentTabJsonLink = $('.b-tabs__link.is-active').data('json');\n\n        $.ajax({\n            url: currentTabJsonLink,\n            dataType: 'html',\n            type: 'get',\n            success: function success(data) {\n                albums = JSON.parse(data);\n                var url = '/xtf/';\n\n                $.get(url + 'www/hbs/albums.hbs', function (template) {\n                    albumsTemplate = Handlebars.compile(template);\n                    $('.b-tabs__content').html(albumsTemplate(albums));\n                }, 'html');\n\n                $.get(url + 'www/hbs/projects-popup.hbs', function (template) {\n                    popupTemplate = Handlebars.compile(template);\n                }, 'html');\n\n                $.get(url + 'www/hbs/project-popup-content.hbs', function (template) {\n                    popupContentTemplate = Handlebars.compile(template);\n                }, 'html');\n            }\n        });\n    });\n});"]}